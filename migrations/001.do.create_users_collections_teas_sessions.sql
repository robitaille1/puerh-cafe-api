CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    username TEXT NOT NULL,
    password TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS collections (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name TEXT NOT NULL,
    userId INTEGER REFERENCES users(id) ON DELETE CASCADE NOT NULL
);

CREATE TABLE IF NOT EXISTS teas (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    year INTEGER,
    name TEXT NOT NULL,
    vendor TEXT,
    quantity INTEGER,
    cost INTEGER,
    link TEXT,
    collectionId INTEGER REFERENCES collections(id) ON DELETE CASCADE NOT NULL
);

CREATE TABLE IF NOT EXISTS sessions (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name TEXT NOT NULL,
    teaId INTEGER REFERENCES teas(id) ON DELETE CASCADE NOT NULL,
    quantity INTEGER,
    parameters TEXT,
    notes TEXT,
    rating INTEGER
);